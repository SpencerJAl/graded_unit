{"filter":false,"title":"update2.js","tooltip":"/PHP/EditAPI/update2.js","undoManager":{"mark":21,"position":21,"stack":[[{"start":{"row":0,"column":0},"end":{"row":120,"column":3},"action":"insert","lines":["(document).ready(function(){"," ","","// show html form when 'update product' button was clicked","  ","$(document).on('click', '.btn-info', function(){","","var id = $(this).attr('data-id');","  $(\".row\").hide();","","$(\"h1\").html(\"Update Product\");"," ","// read one record based on given product id","","$.getJSON(\"read1.php?id=\" + id, function(data){","","// values will be used to fill out our form","  ","var name = data.name;","var descript = data.descript;","var price = data.price;","var image_path = data.image_path;"," ","// we used the 'required' html5 property to prevent empty fields","var update_product = \"\";"," ","update_product +=\"<form id='update-product-form' action='#' method='post' border='0'>\";"," ","update_product +=\"<table class='table'>\";"," ","        // name field","     update_product +=\"<tr>\";","","update_product +=\"<td>Name</td>\";","   ","update_product +=\"<td><input value=\\\"\" + name + \"\\\" type='text' name='name' class='form-control' required /></td>\";"," ","update_product +=\"</tr>\";"," ","        // price field","update_product +=\"<tr>\";","        update_product +=\"<td>Price</td>\";","","update_product +=\"<td><input value=\\\"\" + price + \"\\\" type='number' min='1' name='price' class='form-control' required /></td>\";","update_product +=\"</tr>\";"," ","        // description field"," ","update_product +=\"<tr>\";"," ","update_product +=\"<td>Description</td>\";","update_product +=\"<td><textarea name='descript' class='form-control' required>\" + descript + \"</textarea></td>\";","update_product +=\"</tr>\";"," ","        //image upload feild","        update_product +=\"<tr>\";","update_product +=\"<td>Image Name (With Image Path)</td>\";","","update_product +=\"<td><textarea name='image_path' class='form-control' required>\" + image_path+ \"</textarea></td>\";","","update_product +=\"</tr>\";"," ","        update_product +=\"<tr>\";"," ","// hidden 'product id' to identify which record to delete","    ","update_product +=\"<td><input value=\\\"\" + id + \"\\\" name='id' type='hidden' /></td>\";"," "," ","// button to submit form","  ","update_product +=\"<td>\";"," ","update_product +=\"<button type='submit' class='btn btn-info'>\";"," ","update_product +=\"<span class='glyphicon glyphicon-edit'></span> Update Product\";"," ","update_product +=\"</button>\";","update_product +=\"</td>\";","update_product +=\"</tr>\";","update_product +=\"</table>\";","update_product +=\"</form>\";","","$(\"#app\").append(update_product);","});"," "," ","});","","","","// will run if 'create product' form was submitted","","$(document).on('submit', '#update-product-form', function(){","","  ","   var form_data=JSON.stringify($(this).serializeObject());","     ","     // submit form data to api","$.ajax({","    url: \"update.php\",","    type : \"POST\",","    contentType : 'application/json',","    data : form_data,","    success : function(result) {","        // product was created, go back to products list","        showProducts();","    },","    error: function(xhr, resp, text) {","        // show error to console","        console.log(xhr, resp, text);","    }","});","     ","    return false;","});","","","","    ","});"],"id":1}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""],"id":2}],[{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"remove","lines":[" "],"id":3}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"remove","lines":[" "],"id":4}],[{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"remove","lines":[" "],"id":5}],[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["    "],"id":7}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":1},"action":"remove","lines":[" "],"id":8}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":1},"action":"remove","lines":[" "],"id":9}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":1},"action":"remove","lines":[" "],"id":10}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":1},"action":"remove","lines":[" "],"id":11}],[{"start":{"row":32,"column":0},"end":{"row":33,"column":0},"action":"remove","lines":["",""],"id":12}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":[" "],"id":13}],[{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["",""],"id":14}],[{"start":{"row":37,"column":0},"end":{"row":37,"column":8},"action":"remove","lines":["        "],"id":16}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"remove","lines":[" "],"id":17}],[{"start":{"row":45,"column":0},"end":{"row":46,"column":0},"action":"remove","lines":["",""],"id":18}],[{"start":{"row":57,"column":0},"end":{"row":57,"column":8},"action":"remove","lines":["        "],"id":19}],[{"start":{"row":56,"column":1},"end":{"row":57,"column":0},"action":"remove","lines":["",""],"id":20}],[{"start":{"row":56,"column":0},"end":{"row":56,"column":1},"action":"remove","lines":[" "],"id":21}],[{"start":{"row":53,"column":115},"end":{"row":54,"column":0},"action":"remove","lines":["",""],"id":22}],[{"start":{"row":51,"column":57},"end":{"row":52,"column":0},"action":"remove","lines":["",""],"id":23}],[{"start":{"row":51,"column":57},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":24}]]},"ace":{"folds":[],"scrolltop":219,"scrollleft":0,"selection":{"start":{"row":31,"column":33},"end":{"row":31,"column":33},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":50,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1495021577954,"hash":"b13b45835706eb8c3f4c9d40a2e1e29e031f01c0"}